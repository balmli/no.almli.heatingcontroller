{
  "_comment": "This file is generated. Please edit .homeycompose/app.json instead.",
  "id": "no.almli.heatingcontroller",
  "version": "1.10.3",
  "compatibility": ">=5.0.0",
  "sdk": 3,
  "brandColor": "#d06830",
  "name": {
    "en": "Heating Controller"
  },
  "description": {
    "en": "Heating schedules with utility price support"
  },
  "category": [
    "tools",
    "climate"
  ],
  "tags": {
    "en": [
      "heating",
      "heatingcontroller",
      "schedule",
      "utility",
      "price",
      "prices",
      "spot"
    ]
  },
  "images": {
    "large": "/assets/images/large.png",
    "small": "/assets/images/small.png"
  },
  "permissions": [
    "homey:app:no.almli.utilitycost"
  ],
  "author": {
    "name": "Bjørnar Almli",
    "email": "bjornar.almli@gmail.com"
  },
  "contributors": {
    "developers": [
      {
        "name": "Bjørnar Almli",
        "email": "bjornar.almli@gmail.com"
      }
    ]
  },
  "contributing": {
    "donate": {
      "paypal": {
        "username": "bjornaralmli"
      }
    }
  },
  "homeyCommunityTopicId": 7795,
  "flow": {
    "triggers": [
      {
        "id": "at_work_ends",
        "title": {
          "en": "Workday ends"
        },
        "hint": {
          "en": "Triggers when the work period ends."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "at_work_starts",
        "title": {
          "en": "Workday starts"
        },
        "hint": {
          "en": "Triggers when the work period starts."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "comfort_mode",
        "highlight": true,
        "title": {
          "en": "Comfort mode is enabled"
        },
        "hint": {
          "en": "Triggers when Comfort mode is enabled."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "eco_mode",
        "highlight": true,
        "title": {
          "en": "ECO mode is enabled"
        },
        "hint": {
          "en": "Triggers when ECO mode is enabled."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "high_x_hours_of_day",
        "title": {
          "en": "High prices [x] hours of the day"
        },
        "titleFormatted": {
          "en": "High prices [[high_hours]] hours of the day"
        },
        "hint": {
          "en": "Triggers when the utility price changes, and the price is among the highest prices of the day."
        },
        "tokens": [
          {
            "name": "heating",
            "type": "boolean",
            "title": {
              "en": "Heating"
            }
          },
          {
            "name": "high_price",
            "type": "boolean",
            "title": {
              "en": "High price"
            }
          }
        ],
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          },
          {
            "name": "high_hours",
            "type": "number",
            "min": 1,
            "max": 23,
            "step": 1,
            "title": {
              "en": "High hours"
            },
            "placeholder": {
              "en": "High hours"
            }
          }
        ]
      },
      {
        "id": "home_override_set_off",
        "title": {
          "en": "Home override is disabled"
        },
        "hint": {
          "en": "Triggers when 'Home override' has been disabled."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "home_was_set_off",
        "title": {
          "en": "Home mode is disabled"
        },
        "hint": {
          "en": "Triggers when 'Home mode' has been disabled (when the device turned off)."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "home_was_set_on",
        "title": {
          "en": "Home mode is enabled"
        },
        "hint": {
          "en": "Triggers when 'Home mode' has been enabled (when the device turned on)."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "homeoverride_set_on",
        "title": {
          "en": "Home override is enabled"
        },
        "hint": {
          "en": "Triggers when 'Home override' has been enabled."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "low_x_hours_of_day",
        "title": {
          "en": "Low prices [x] hours of the day"
        },
        "titleFormatted": {
          "en": "Low prices [[low_hours]] hours of the day"
        },
        "hint": {
          "en": "Triggers when the utility price changes, and the price is among the lowest prices of the day."
        },
        "tokens": [
          {
            "name": "heating",
            "type": "boolean",
            "title": {
              "en": "Heating"
            }
          },
          {
            "name": "low_price",
            "type": "boolean",
            "title": {
              "en": "Low price"
            }
          }
        ],
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          },
          {
            "name": "low_hours",
            "type": "number",
            "min": 1,
            "max": 23,
            "step": 1,
            "title": {
              "en": "Low hours"
            },
            "placeholder": {
              "en": "Low hours"
            }
          }
        ]
      },
      {
        "id": "night_ends",
        "title": {
          "en": "Night ends"
        },
        "hint": {
          "en": "Triggers when the night period ends."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "night_starts",
        "title": {
          "en": "Night starts"
        },
        "hint": {
          "en": "Triggers when the night period starts."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "price_changed",
        "highlight": true,
        "title": {
          "en": "Utility price changed"
        },
        "hint": {
          "en": "Triggers when the utility price changes."
        },
        "tokens": [
          {
            "name": "price",
            "type": "number",
            "title": {
              "en": "Price"
            }
          },
          {
            "name": "heating",
            "type": "boolean",
            "title": {
              "en": "Heating"
            }
          },
          {
            "name": "priceRatio",
            "type": "number",
            "title": {
              "en": "Price ratio"
            }
          },
          {
            "name": "priceMin",
            "type": "number",
            "title": {
              "en": "Min Price"
            }
          },
          {
            "name": "priceMax",
            "type": "number",
            "title": {
              "en": "Max Price"
            }
          }
        ],
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      }
    ],
    "conditions": [
      {
        "id": "current_price_below",
        "title": {
          "en": "Is current price !{{below|above}}"
        },
        "titleFormatted": {
          "en": "Is current price !{{below|above}} [[price]]"
        },
        "hint": {
          "en": "Condition to check if the current price is below or above a specific value."
        },
        "args": [
          {
            "name": "price",
            "type": "number",
            "placeholder": {
              "en": "price"
            }
          },
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "high_x_hours_of_day_condition",
        "title": {
          "en": "Current price is !{{among|not among}} the [x] hours of the days highest prices"
        },
        "titleFormatted": {
          "en": "Current price is !{{among|not among}} the [[high_hours]] hours of the days highest prices"
        },
        "hint": {
          "en": "Condition to check if the current price is among the today's highest prices. Specify the number of hours with highest prices to compare against."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          },
          {
            "name": "high_hours",
            "type": "number",
            "min": 1,
            "max": 23,
            "step": 1,
            "title": {
              "en": "High hours"
            },
            "placeholder": {
              "en": "High hours"
            }
          }
        ]
      },
      {
        "id": "is_at_work",
        "title": {
          "en": "Is !{{|not}} at work"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "is_bank_holiday",
        "title": {
          "en": "Is !{{|not}} bank holiday"
        },
        "titleFormatted": {
          "en": "Is !{{|not}} bank holiday [[condition]] in [[country]]"
        },
        "args": [
          {
            "name": "condition",
            "type": "dropdown",
            "values": [
              {
                "id": "today",
                "label": {
                  "en": "Today"
                }
              },
              {
                "id": "yesterday",
                "label": {
                  "en": "Yesterday"
                }
              },
              {
                "id": "tomorrow",
                "label": {
                  "en": "Tomorrow"
                }
              }
            ]
          },
          {
            "name": "country",
            "type": "dropdown",
            "values": [
              {
                "id": "AU",
                "label": {
                  "en": "Australia"
                }
              },
              {
                "id": "AT",
                "label": {
                  "en": "Austria"
                }
              },
              {
                "id": "BE",
                "label": {
                  "en": "Belgium"
                }
              },
              {
                "id": "DK",
                "label": {
                  "en": "Denmark"
                }
              },
              {
                "id": "EE",
                "label": {
                  "en": "Estonia"
                }
              },
              {
                "id": "FI",
                "label": {
                  "en": "Finland"
                }
              },
              {
                "id": "FR",
                "label": {
                  "en": "France"
                }
              },
              {
                "id": "DE",
                "label": {
                  "en": "Germany"
                }
              },
              {
                "id": "IS",
                "label": {
                  "en": "Iceland"
                }
              },
              {
                "id": "IE",
                "label": {
                  "en": "Ireland"
                }
              },
              {
                "id": "IT",
                "label": {
                  "en": "Italy"
                }
              },
              {
                "id": "LV",
                "label": {
                  "en": "Latvia"
                }
              },
              {
                "id": "LT",
                "label": {
                  "en": "Lithuania"
                }
              },
              {
                "id": "NL",
                "label": {
                  "en": "Netherlands"
                }
              },
              {
                "id": "NO",
                "label": {
                  "en": "Norway"
                }
              },
              {
                "id": "PL",
                "label": {
                  "en": "Poland"
                }
              },
              {
                "id": "PT",
                "label": {
                  "en": "Portugal"
                }
              },
              {
                "id": "ES",
                "label": {
                  "en": "Spain"
                }
              },
              {
                "id": "SE",
                "label": {
                  "en": "Sweden"
                }
              },
              {
                "id": "CH",
                "label": {
                  "en": "Switzerland"
                }
              },
              {
                "id": "GB",
                "label": {
                  "en": "United Kingdom"
                }
              }
            ]
          }
        ]
      },
      {
        "id": "is_heating_on",
        "title": {
          "en": "Is !{{Comfort mode|ECO mode}}"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "is_holiday",
        "title": {
          "en": "Is !{{|not}} holiday"
        },
        "titleFormatted": {
          "en": "Is !{{|not}} holiday [[condition]] in [[country]]"
        },
        "args": [
          {
            "name": "condition",
            "type": "dropdown",
            "values": [
              {
                "id": "today",
                "label": {
                  "en": "Today"
                }
              },
              {
                "id": "yesterday",
                "label": {
                  "en": "Yesterday"
                }
              },
              {
                "id": "tomorrow",
                "label": {
                  "en": "Tomorrow"
                }
              }
            ]
          },
          {
            "name": "country",
            "type": "dropdown",
            "values": [
              {
                "id": "AU",
                "label": {
                  "en": "Australia"
                }
              },
              {
                "id": "AT",
                "label": {
                  "en": "Austria"
                }
              },
              {
                "id": "BE",
                "label": {
                  "en": "Belgium"
                }
              },
              {
                "id": "DK",
                "label": {
                  "en": "Denmark"
                }
              },
              {
                "id": "EE",
                "label": {
                  "en": "Estonia"
                }
              },
              {
                "id": "FI",
                "label": {
                  "en": "Finland"
                }
              },
              {
                "id": "FR",
                "label": {
                  "en": "France"
                }
              },
              {
                "id": "DE",
                "label": {
                  "en": "Germany"
                }
              },
              {
                "id": "IS",
                "label": {
                  "en": "Iceland"
                }
              },
              {
                "id": "IE",
                "label": {
                  "en": "Ireland"
                }
              },
              {
                "id": "IT",
                "label": {
                  "en": "Italy"
                }
              },
              {
                "id": "LV",
                "label": {
                  "en": "Latvia"
                }
              },
              {
                "id": "LT",
                "label": {
                  "en": "Lithuania"
                }
              },
              {
                "id": "NL",
                "label": {
                  "en": "Netherlands"
                }
              },
              {
                "id": "NO",
                "label": {
                  "en": "Norway"
                }
              },
              {
                "id": "PL",
                "label": {
                  "en": "Poland"
                }
              },
              {
                "id": "PT",
                "label": {
                  "en": "Portugal"
                }
              },
              {
                "id": "ES",
                "label": {
                  "en": "Spain"
                }
              },
              {
                "id": "SE",
                "label": {
                  "en": "Sweden"
                }
              },
              {
                "id": "CH",
                "label": {
                  "en": "Switzerland"
                }
              },
              {
                "id": "GB",
                "label": {
                  "en": "United Kingdom"
                }
              }
            ]
          }
        ]
      },
      {
        "id": "is_home",
        "title": {
          "en": "Is !{{home|away}}"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "is_home_override",
        "title": {
          "en": "Is 'Home override' !{{on|off}}"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "is_night",
        "title": {
          "en": "Is !{{night|day}}"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "is_observance_holiday",
        "title": {
          "en": "Is !{{|not}} observance holiday"
        },
        "titleFormatted": {
          "en": "Is !{{|not}} observance holiday [[condition]] in [[country]]"
        },
        "args": [
          {
            "name": "condition",
            "type": "dropdown",
            "values": [
              {
                "id": "today",
                "label": {
                  "en": "Today"
                }
              },
              {
                "id": "yesterday",
                "label": {
                  "en": "Yesterday"
                }
              },
              {
                "id": "tomorrow",
                "label": {
                  "en": "Tomorrow"
                }
              }
            ]
          },
          {
            "name": "country",
            "type": "dropdown",
            "values": [
              {
                "id": "AU",
                "label": {
                  "en": "Australia"
                }
              },
              {
                "id": "AT",
                "label": {
                  "en": "Austria"
                }
              },
              {
                "id": "BE",
                "label": {
                  "en": "Belgium"
                }
              },
              {
                "id": "DK",
                "label": {
                  "en": "Denmark"
                }
              },
              {
                "id": "EE",
                "label": {
                  "en": "Estonia"
                }
              },
              {
                "id": "FI",
                "label": {
                  "en": "Finland"
                }
              },
              {
                "id": "FR",
                "label": {
                  "en": "France"
                }
              },
              {
                "id": "DE",
                "label": {
                  "en": "Germany"
                }
              },
              {
                "id": "IS",
                "label": {
                  "en": "Iceland"
                }
              },
              {
                "id": "IE",
                "label": {
                  "en": "Ireland"
                }
              },
              {
                "id": "IT",
                "label": {
                  "en": "Italy"
                }
              },
              {
                "id": "LV",
                "label": {
                  "en": "Latvia"
                }
              },
              {
                "id": "LT",
                "label": {
                  "en": "Lithuania"
                }
              },
              {
                "id": "NL",
                "label": {
                  "en": "Netherlands"
                }
              },
              {
                "id": "NO",
                "label": {
                  "en": "Norway"
                }
              },
              {
                "id": "PL",
                "label": {
                  "en": "Poland"
                }
              },
              {
                "id": "PT",
                "label": {
                  "en": "Portugal"
                }
              },
              {
                "id": "ES",
                "label": {
                  "en": "Spain"
                }
              },
              {
                "id": "SE",
                "label": {
                  "en": "Sweden"
                }
              },
              {
                "id": "CH",
                "label": {
                  "en": "Switzerland"
                }
              },
              {
                "id": "GB",
                "label": {
                  "en": "United Kingdom"
                }
              }
            ]
          }
        ]
      },
      {
        "id": "is_public_holiday",
        "title": {
          "en": "Is !{{|not}} public holiday"
        },
        "titleFormatted": {
          "en": "Is !{{|not}} public holiday [[condition]] in [[country]]"
        },
        "args": [
          {
            "name": "condition",
            "type": "dropdown",
            "values": [
              {
                "id": "today",
                "label": {
                  "en": "Today"
                }
              },
              {
                "id": "yesterday",
                "label": {
                  "en": "Yesterday"
                }
              },
              {
                "id": "tomorrow",
                "label": {
                  "en": "Tomorrow"
                }
              }
            ]
          },
          {
            "name": "country",
            "type": "dropdown",
            "values": [
              {
                "id": "AU",
                "label": {
                  "en": "Australia"
                }
              },
              {
                "id": "AT",
                "label": {
                  "en": "Austria"
                }
              },
              {
                "id": "BE",
                "label": {
                  "en": "Belgium"
                }
              },
              {
                "id": "DK",
                "label": {
                  "en": "Denmark"
                }
              },
              {
                "id": "EE",
                "label": {
                  "en": "Estonia"
                }
              },
              {
                "id": "FI",
                "label": {
                  "en": "Finland"
                }
              },
              {
                "id": "FR",
                "label": {
                  "en": "France"
                }
              },
              {
                "id": "DE",
                "label": {
                  "en": "Germany"
                }
              },
              {
                "id": "IS",
                "label": {
                  "en": "Iceland"
                }
              },
              {
                "id": "IE",
                "label": {
                  "en": "Ireland"
                }
              },
              {
                "id": "IT",
                "label": {
                  "en": "Italy"
                }
              },
              {
                "id": "LV",
                "label": {
                  "en": "Latvia"
                }
              },
              {
                "id": "LT",
                "label": {
                  "en": "Lithuania"
                }
              },
              {
                "id": "NL",
                "label": {
                  "en": "Netherlands"
                }
              },
              {
                "id": "NO",
                "label": {
                  "en": "Norway"
                }
              },
              {
                "id": "PL",
                "label": {
                  "en": "Poland"
                }
              },
              {
                "id": "PT",
                "label": {
                  "en": "Portugal"
                }
              },
              {
                "id": "ES",
                "label": {
                  "en": "Spain"
                }
              },
              {
                "id": "SE",
                "label": {
                  "en": "Sweden"
                }
              },
              {
                "id": "CH",
                "label": {
                  "en": "Switzerland"
                }
              },
              {
                "id": "GB",
                "label": {
                  "en": "United Kingdom"
                }
              }
            ]
          }
        ]
      },
      {
        "id": "is_workingday",
        "title": {
          "en": "Is !{{|not}} working day"
        },
        "titleFormatted": {
          "en": "Is !{{|not}} working day [[condition]] in [[country]]"
        },
        "args": [
          {
            "name": "condition",
            "type": "dropdown",
            "values": [
              {
                "id": "today",
                "label": {
                  "en": "Today"
                }
              },
              {
                "id": "yesterday",
                "label": {
                  "en": "Yesterday"
                }
              },
              {
                "id": "tomorrow",
                "label": {
                  "en": "Tomorrow"
                }
              }
            ]
          },
          {
            "name": "country",
            "type": "dropdown",
            "values": [
              {
                "id": "AU",
                "label": {
                  "en": "Australia"
                }
              },
              {
                "id": "AT",
                "label": {
                  "en": "Austria"
                }
              },
              {
                "id": "BE",
                "label": {
                  "en": "Belgium"
                }
              },
              {
                "id": "DK",
                "label": {
                  "en": "Denmark"
                }
              },
              {
                "id": "EE",
                "label": {
                  "en": "Estonia"
                }
              },
              {
                "id": "FI",
                "label": {
                  "en": "Finland"
                }
              },
              {
                "id": "FR",
                "label": {
                  "en": "France"
                }
              },
              {
                "id": "DE",
                "label": {
                  "en": "Germany"
                }
              },
              {
                "id": "IS",
                "label": {
                  "en": "Iceland"
                }
              },
              {
                "id": "IE",
                "label": {
                  "en": "Ireland"
                }
              },
              {
                "id": "IT",
                "label": {
                  "en": "Italy"
                }
              },
              {
                "id": "LV",
                "label": {
                  "en": "Latvia"
                }
              },
              {
                "id": "LT",
                "label": {
                  "en": "Lithuania"
                }
              },
              {
                "id": "NL",
                "label": {
                  "en": "Netherlands"
                }
              },
              {
                "id": "NO",
                "label": {
                  "en": "Norway"
                }
              },
              {
                "id": "PL",
                "label": {
                  "en": "Poland"
                }
              },
              {
                "id": "PT",
                "label": {
                  "en": "Portugal"
                }
              },
              {
                "id": "ES",
                "label": {
                  "en": "Spain"
                }
              },
              {
                "id": "SE",
                "label": {
                  "en": "Sweden"
                }
              },
              {
                "id": "CH",
                "label": {
                  "en": "Switzerland"
                }
              },
              {
                "id": "GB",
                "label": {
                  "en": "United Kingdom"
                }
              }
            ]
          }
        ]
      },
      {
        "id": "low_x_hours_of_day_condition",
        "title": {
          "en": "Current price is !{{among|not among}} the [x] hours of the days lowest prices"
        },
        "titleFormatted": {
          "en": "Current price is !{{among|not among}} the [[low_hours]] hours of the days lowest prices"
        },
        "hint": {
          "en": "Condition to check if the current price is among the today's lowest prices. Specify the number of hours with lowest prices to compare against."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          },
          {
            "name": "low_hours",
            "type": "number",
            "min": 1,
            "max": 23,
            "step": 1,
            "title": {
              "en": "Low hours"
            },
            "placeholder": {
              "en": "Low hours"
            }
          }
        ]
      },
      {
        "id": "price_above_avg_condition",
        "title": {
          "en": "Current price is !{{|not}} [x] % above today's average"
        },
        "titleFormatted": {
          "en": "Current price is !{{|not}} [[percentage]] % above today's average"
        },
        "hint": {
          "en": "Condition to check if the current price is X % above today's average."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          },
          {
            "name": "percentage",
            "type": "number",
            "title": {
              "en": "Percentage"
            },
            "placeholder": {
              "en": "Percentage"
            }
          }
        ]
      },
      {
        "id": "price_above_avg_next_hours_condition",
        "title": {
          "en": "Current price is !{{|not}} [x] % above the average of the next [y] hours"
        },
        "titleFormatted": {
          "en": "Current price is !{{|not}} [[percentage]] % above the average of the next [[hours]] hours"
        },
        "hint": {
          "en": "Condition to check if the current price is X % above the average of the next hours."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          },
          {
            "name": "percentage",
            "type": "number",
            "title": {
              "en": "Percentage"
            },
            "placeholder": {
              "en": "Percentage"
            }
          },
          {
            "name": "hours",
            "type": "number",
            "min": 1,
            "max": 23,
            "step": 1,
            "title": {
              "en": "Hours"
            },
            "placeholder": {
              "en": "Hours"
            }
          }
        ]
      },
      {
        "id": "price_below_avg_condition",
        "title": {
          "en": "Current price is !{{|not}} [x] % below today's average"
        },
        "titleFormatted": {
          "en": "Current price is !{{|not}} [[percentage]] % below today's average"
        },
        "hint": {
          "en": "Condition to check if the current price is X % below today's average."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          },
          {
            "name": "percentage",
            "type": "number",
            "title": {
              "en": "Percentage"
            },
            "placeholder": {
              "en": "Percentage"
            }
          }
        ]
      },
      {
        "id": "price_below_avg_next_hours_condition",
        "title": {
          "en": "Current price is !{{|not}} [x] % below the average of the next [y] hours"
        },
        "titleFormatted": {
          "en": "Current price is !{{|not}} [[percentage]] % below the average of the next [[hours]] hours"
        },
        "hint": {
          "en": "Condition to check if the current price is X % below the average of the next hours."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          },
          {
            "name": "percentage",
            "type": "number",
            "title": {
              "en": "Percentage"
            },
            "placeholder": {
              "en": "Percentage"
            }
          },
          {
            "name": "hours",
            "type": "number",
            "min": 1,
            "max": 23,
            "step": 1,
            "title": {
              "en": "Hours"
            },
            "placeholder": {
              "en": "Hours"
            }
          }
        ]
      },
      {
        "id": "price_diff_high_low",
        "title": {
          "en": "Difference between highest and lowest price is !{{less|more}} than [x] %"
        },
        "titleFormatted": {
          "en": "Difference between highest and lowest price is !{{less|more}} than [[percentage]] %"
        },
        "hint": {
          "en": "Condition to check if the difference between the highest and the lowest price for the whole day is less or more than X percent. "
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          },
          {
            "name": "percentage",
            "type": "number",
            "min": 0,
            "max": 9999,
            "title": {
              "en": "Percentage"
            },
            "placeholder": {
              "en": "Percentage"
            }
          }
        ]
      },
      {
        "id": "price_diff_high_low2",
        "title": {
          "en": "Difference between highest and lowest price is !{{less|more}} than [x]"
        },
        "titleFormatted": {
          "en": "Difference between highest and lowest price is !{{less|more}} than [[amount]]"
        },
        "hint": {
          "en": "Condition to check if the difference between the highest and the lowest price for the whole day is less or more than X. "
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          },
          {
            "name": "amount",
            "type": "number",
            "min": 0,
            "max": 9999,
            "title": {
              "en": "Amount"
            },
            "placeholder": {
              "en": "Amount"
            }
          }
        ]
      },
      {
        "id": "price_higher_next_hours",
        "title": {
          "en": "Current price is !{{|not}} higher than prices next [x] hours"
        },
        "titleFormatted": {
          "en": "Current price is !{{|not}} higher than prices next [[hours]] hours"
        },
        "hint": {
          "en": "Condition to check if the current price is higher than prices next hours."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          },
          {
            "name": "hours",
            "type": "number",
            "min": 1,
            "max": 23,
            "step": 1,
            "title": {
              "en": "Hours"
            },
            "placeholder": {
              "en": "2"
            }
          }
        ]
      },
      {
        "id": "price_highest_among_in_period",
        "title": {
          "en": "Current price is !{{|not}} among the [x] hours of highest in a period"
        },
        "titleFormatted": {
          "en": "Current price is !{{|not}} among the [[high_hours]] hours of highest between [[start]] and [[end]]"
        },
        "hint": {
          "en": "Condition to check if the current price is among the X highest in a period."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          },
          {
            "name": "start",
            "type": "time",
            "title": {
              "en": "Start hour"
            },
            "placeholder": {
              "en": "04:00"
            }
          },
          {
            "name": "end",
            "type": "time",
            "title": {
              "en": "End hour"
            },
            "placeholder": {
              "en": "08:00"
            }
          },
          {
            "name": "high_hours",
            "type": "number",
            "min": 1,
            "max": 23,
            "step": 1,
            "title": {
              "en": "High hours"
            },
            "placeholder": {
              "en": "2"
            }
          }
        ]
      },
      {
        "id": "price_lower_next_hours",
        "title": {
          "en": "Current price is !{{|not}} lower than prices next [x] hours"
        },
        "titleFormatted": {
          "en": "Current price is !{{|not}} lower than prices next [[hours]] hours"
        },
        "hint": {
          "en": "Condition to check if the current price is lower than prices next hours."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          },
          {
            "name": "hours",
            "type": "number",
            "min": 1,
            "max": 23,
            "step": 1,
            "title": {
              "en": "Hours"
            },
            "placeholder": {
              "en": "2"
            }
          }
        ]
      },
      {
        "id": "price_lowest_among_in_period",
        "title": {
          "en": "Current price is !{{|not}} among the [x] hours of lowest in a period"
        },
        "titleFormatted": {
          "en": "Current price is !{{|not}} among the [[low_hours]] hours of lowest between [[start]] and [[end]]"
        },
        "hint": {
          "en": "Condition to check if the current price is among the X lowest in a period."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          },
          {
            "name": "start",
            "type": "time",
            "title": {
              "en": "Start hour"
            },
            "placeholder": {
              "en": "04:00"
            }
          },
          {
            "name": "end",
            "type": "time",
            "title": {
              "en": "End hour"
            },
            "placeholder": {
              "en": "08:00"
            }
          },
          {
            "name": "low_hours",
            "type": "number",
            "min": 1,
            "max": 23,
            "step": 1,
            "title": {
              "en": "Low hours"
            },
            "placeholder": {
              "en": "2"
            }
          }
        ]
      },
      {
        "id": "prices_among_highest_condition",
        "title": {
          "en": "The following [x] hours are !{{|not}} among the [y] hours of today's highest prices"
        },
        "titleFormatted": {
          "en": "The following [[hours]] hours are !{{|not}} among the [[high_hours]] hours of today's highest prices"
        },
        "hint": {
          "en": "Condition to check if one of the following hours are among the today's highest prices. Specify the number of hours from now, including the current hour and the number of hours with highest prices to compare against."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          },
          {
            "name": "hours",
            "type": "number",
            "min": 1,
            "max": 23,
            "step": 1,
            "title": {
              "en": "Hours"
            },
            "placeholder": {
              "en": "Hours"
            }
          },
          {
            "name": "high_hours",
            "type": "number",
            "min": 1,
            "max": 23,
            "step": 1,
            "title": {
              "en": "High hours"
            },
            "placeholder": {
              "en": "High hours"
            }
          }
        ]
      },
      {
        "id": "prices_among_lowest_condition",
        "title": {
          "en": "The following [x] hours are !{{|not}} among the [y] hours of today's lowest prices"
        },
        "titleFormatted": {
          "en": "The following [[hours]] hours are !{{|not}} among the [[low_hours]] hours of today's lowest prices"
        },
        "hint": {
          "en": "Condition to check if one of the following hours are among the today's lowest prices. Specify the number of hours from now, including the current hour and the number of hours with lowest prices to compare against."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          },
          {
            "name": "hours",
            "type": "number",
            "min": 1,
            "max": 23,
            "step": 1,
            "title": {
              "en": "Hours"
            },
            "placeholder": {
              "en": "Hours"
            }
          },
          {
            "name": "low_hours",
            "type": "number",
            "min": 1,
            "max": 23,
            "step": 1,
            "title": {
              "en": "Low hours"
            },
            "placeholder": {
              "en": "Low hours"
            }
          }
        ]
      },
      {
        "id": "prices_highest_next_hours",
        "title": {
          "en": "The following [x] consecutive hours have !{{|not}} the highest total price in a period"
        },
        "titleFormatted": {
          "en": "The following [[hours]] consecutive hours have !{{|not}} the highest total price between [[start]] and [[end]]"
        },
        "hint": {
          "en": "Condition for checking whether the next hours in a row have the highest total price in a period. Use '00:00' for both start and end for the current day."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          },
          {
            "name": "hours",
            "type": "number",
            "min": 1,
            "max": 24,
            "step": 1,
            "title": {
              "en": "Hours"
            },
            "placeholder": {
              "en": "2"
            }
          },
          {
            "name": "start",
            "type": "time",
            "title": {
              "en": "Start hour"
            },
            "placeholder": {
              "en": "04:00"
            }
          },
          {
            "name": "end",
            "type": "time",
            "title": {
              "en": "End hour"
            },
            "placeholder": {
              "en": "08:00"
            }
          }
        ]
      },
      {
        "id": "prices_lowest_next_hours",
        "title": {
          "en": "The following [x] consecutive hours have !{{|not}} the lowest total price in a period"
        },
        "titleFormatted": {
          "en": "The following [[hours]] consecutive hours have !{{|not}} the lowest total price between [[start]] and [[end]]"
        },
        "hint": {
          "en": "Condition for checking whether the next hours in a row have the lowest total price in a period. Use '00:00' for both start and end for the current day."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=HeatingController"
          },
          {
            "name": "hours",
            "type": "number",
            "min": 1,
            "max": 24,
            "step": 1,
            "title": {
              "en": "Hours"
            },
            "placeholder": {
              "en": "2"
            }
          },
          {
            "name": "start",
            "type": "time",
            "title": {
              "en": "Start hour"
            },
            "placeholder": {
              "en": "04:00"
            }
          },
          {
            "name": "end",
            "type": "time",
            "title": {
              "en": "End hour"
            },
            "placeholder": {
              "en": "08:00"
            }
          }
        ]
      }
    ],
    "actions": [
      {
        "id": "set_at_home_off",
        "title": {
          "en": "Set away"
        },
        "hint": {
          "en": "Will turn the 'Home mode' off. The device will be turned off."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "set_at_home_off_auto",
        "title": {
          "en": "Set away, and automatically switch to home mode on next schedule"
        },
        "hint": {
          "en": "Will turn the 'Home mode' off. Will automatically switch 'Home mode' back on on the next schedule."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "set_at_home_on",
        "title": {
          "en": "Set home"
        },
        "hint": {
          "en": "Will turn the 'Home mode' on. The device will be turned on."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "set_holiday_today",
        "title": {
          "en": "Set holiday today"
        },
        "titleFormatted": {
          "en": "[[holiday]] today"
        },
        "hint": {
          "en": "Use this to inform the heating controller that today is a holiday.  Must be set once each day."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=HeatingController"
          },
          {
            "type": "dropdown",
            "name": "holiday",
            "values": [
              {
                "id": "holiday",
                "label": {
                  "en": "Holiday"
                }
              },
              {
                "id": "not_holiday",
                "label": {
                  "en": "Not a holiday"
                }
              }
            ]
          }
        ]
      },
      {
        "id": "set_home_override_off",
        "title": {
          "en": "Set 'Home override' off"
        },
        "hint": {
          "en": "This will turn the 'Home override' off."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "set_home_override_on",
        "title": {
          "en": "Set 'Home override' on"
        },
        "hint": {
          "en": "This will turn the 'Home override' on, so you will keep the Comfort mode during the work period."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      },
      {
        "id": "set_home_override_on_auto",
        "title": {
          "en": "Set 'Home override' on, and automatically off on next schedule"
        },
        "hint": {
          "en": "This will turn the 'Home override' on, so you will keep the Comfort mode during the work period. Will automatically turn 'Home override' off on the next schedule."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=HeatingController"
          }
        ]
      }
    ]
  },
  "drivers": [
    {
      "id": "HeatingController",
      "name": {
        "en": "Heating Controller"
      },
      "icon": "/drivers/HeatingController/assets/icon.svg",
      "images": {
        "large": "/drivers/HeatingController/assets/images/large.png",
        "small": "/drivers/HeatingController/assets/images/small.png"
      },
      "class": "other",
      "capabilities": [
        "onoff",
        "home_override",
        "night",
        "at_work",
        "heating",
        "price",
        "price_DKK",
        "price_EUR",
        "price_NOK",
        "price_SEK"
      ],
      "capabilitiesOptions": {
        "onoff": {
          "titleTrue": {
            "en": "Home"
          },
          "titleFalse": {
            "en": "Away"
          }
        },
        "night": {
          "titleTrue": {
            "en": "Night"
          },
          "titleFalse": {
            "en": "Day"
          }
        },
        "at_work": {
          "titleTrue": {
            "en": "At work"
          },
          "titleFalse": {
            "en": "Not at work"
          }
        },
        "heating": {
          "titleTrue": {
            "en": "Heating on"
          },
          "titleFalse": {
            "en": "Heating off"
          }
        }
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_my_devices"
          }
        },
        {
          "id": "add_my_devices",
          "template": "add_devices"
        }
      ],
      "settings": [
        {
          "type": "group",
          "label": {
            "en": "Period settings"
          },
          "children": [
            {
              "id": "workdayStartHour",
              "type": "number",
              "label": {
                "en": "Start hour workingdays"
              },
              "value": 5,
              "hint": {
                "en": "Hour the comfort mode will be enabled for working days"
              }
            },
            {
              "id": "workdayEndHour",
              "type": "number",
              "label": {
                "en": "End hour workingdays"
              },
              "value": 22.5,
              "hint": {
                "en": "Hour the ECO mode will be enabled for working days"
              }
            },
            {
              "id": "notWorkdayStartHour",
              "type": "number",
              "label": {
                "en": "Start hour not workingdays"
              },
              "value": 7,
              "hint": {
                "en": "Hour the comfort mode will be enabled for weekends and holidays"
              }
            },
            {
              "id": "notWorkdayEndHour",
              "type": "number",
              "label": {
                "en": "End hour not workingdays"
              },
              "value": 23,
              "hint": {
                "en": "Hour the ECO mode will be enabled for weekends and holidays"
              }
            },
            {
              "id": "workHoursStartHour",
              "type": "number",
              "label": {
                "en": "Hour starting at work"
              },
              "value": 7,
              "hint": {
                "en": "Hour starting at work, which will enable ECO mode"
              }
            },
            {
              "id": "workHoursEndHour",
              "type": "number",
              "label": {
                "en": "Hour finished at work"
              },
              "value": 14,
              "hint": {
                "en": "Hour finished at work, which will enable comfort mode"
              }
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Price settings"
          },
          "children": [
            {
              "id": "priceArea",
              "type": "dropdown",
              "label": {
                "en": "Price area"
              },
              "value": "Oslo",
              "values": [
                {
                  "id": "AT",
                  "label": {
                    "en": "Austria - AT"
                  }
                },
                {
                  "id": "BE",
                  "label": {
                    "en": "Belgium - BE"
                  }
                },
                {
                  "id": "DE-LU",
                  "label": {
                    "en": "Germany and Luxembourg (DE-LU)"
                  }
                },
                {
                  "id": "FR",
                  "label": {
                    "en": "France - FR"
                  }
                },
                {
                  "id": "NL",
                  "label": {
                    "en": "Netherlands - NL"
                  }
                },
                {
                  "id": "SE1",
                  "label": {
                    "en": "Sweden - SE1"
                  }
                },
                {
                  "id": "SE2",
                  "label": {
                    "en": "Sweden - SE2"
                  }
                },
                {
                  "id": "SE3",
                  "label": {
                    "en": "Sweden - SE3"
                  }
                },
                {
                  "id": "SE4",
                  "label": {
                    "en": "Sweden - SE4"
                  }
                },
                {
                  "id": "DK1",
                  "label": {
                    "en": "Sweden - DK1"
                  }
                },
                {
                  "id": "DK2",
                  "label": {
                    "en": "Sweden - DK2"
                  }
                },
                {
                  "id": "FI",
                  "label": {
                    "en": "Finland - FI"
                  }
                },
                {
                  "id": "Oslo",
                  "label": {
                    "en": "Norway - Oslo"
                  }
                },
                {
                  "id": "Kr.sand",
                  "label": {
                    "en": "Norway - Kr.sand"
                  }
                },
                {
                  "id": "Bergen",
                  "label": {
                    "en": "Norway - Bergen"
                  }
                },
                {
                  "id": "Molde",
                  "label": {
                    "en": "Norway - Molde"
                  }
                },
                {
                  "id": "Tr.heim",
                  "label": {
                    "en": "Norway - Tr.heim"
                  }
                },
                {
                  "id": "Tromsø",
                  "label": {
                    "en": "Norway - Tromsø"
                  }
                },
                {
                  "id": "EE",
                  "label": {
                    "en": "Estonia - EE"
                  }
                },
                {
                  "id": "LV",
                  "label": {
                    "en": "Latvia - LV"
                  }
                },
                {
                  "id": "LT",
                  "label": {
                    "en": "Lithuania -LT"
                  }
                }
              ]
            },
            {
              "id": "currency",
              "type": "dropdown",
              "label": {
                "en": "Currency"
              },
              "value": "EUR",
              "values": [
                {
                  "id": "EUR",
                  "label": {
                    "en": "EUR"
                  }
                },
                {
                  "id": "DKK",
                  "label": {
                    "en": "DKK"
                  }
                },
                {
                  "id": "NOK",
                  "label": {
                    "en": "NOK"
                  }
                },
                {
                  "id": "SEK",
                  "label": {
                    "en": "SEK"
                  }
                }
              ]
            },
            {
              "id": "pricesFromUtilityBill",
              "type": "checkbox",
              "label": {
                "en": "Prices from Utility Bill",
                "no": "Priser fra Strømregning"
              },
              "hint": {
                "en": "Check to receive prices from the Utility Bill app. Supported if 'Price calculation' in the Utility Bill app is set to 'Spot' or 'Fixed price'.",
                "no": "Kryss av for å motta priser fra Strømregning appen. Kun støttet hvis 'Prisberegning' i Strømregning er satt til 'Spotpris' eller 'Fastpris'."
              },
              "value": false
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Country"
          },
          "children": [
            {
              "id": "country",
              "type": "dropdown",
              "label": {
                "en": "Country for holidays"
              },
              "value": "NO",
              "values": [
                {
                  "id": "AU",
                  "label": {
                    "en": "Australia"
                  }
                },
                {
                  "id": "AT",
                  "label": {
                    "en": "Austria"
                  }
                },
                {
                  "id": "BE",
                  "label": {
                    "en": "Belgium"
                  }
                },
                {
                  "id": "DK",
                  "label": {
                    "en": "Denmark"
                  }
                },
                {
                  "id": "EE",
                  "label": {
                    "en": "Estonia"
                  }
                },
                {
                  "id": "FI",
                  "label": {
                    "en": "Finland"
                  }
                },
                {
                  "id": "FR",
                  "label": {
                    "en": "France"
                  }
                },
                {
                  "id": "DE",
                  "label": {
                    "en": "Germany"
                  }
                },
                {
                  "id": "IS",
                  "label": {
                    "en": "Iceland"
                  }
                },
                {
                  "id": "IE",
                  "label": {
                    "en": "Ireland"
                  }
                },
                {
                  "id": "IT",
                  "label": {
                    "en": "Italy"
                  }
                },
                {
                  "id": "LV",
                  "label": {
                    "en": "Latvia"
                  }
                },
                {
                  "id": "LT",
                  "label": {
                    "en": "Lithuania"
                  }
                },
                {
                  "id": "NL",
                  "label": {
                    "en": "Netherlands"
                  }
                },
                {
                  "id": "NO",
                  "label": {
                    "en": "Norway"
                  }
                },
                {
                  "id": "PL",
                  "label": {
                    "en": "Poland"
                  }
                },
                {
                  "id": "PT",
                  "label": {
                    "en": "Portugal"
                  }
                },
                {
                  "id": "ES",
                  "label": {
                    "en": "Spain"
                  }
                },
                {
                  "id": "SE",
                  "label": {
                    "en": "Sweden"
                  }
                },
                {
                  "id": "CH",
                  "label": {
                    "en": "Switzerland"
                  }
                },
                {
                  "id": "GB",
                  "label": {
                    "en": "United Kingdom"
                  }
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  "capabilities": {
    "at_home": {
      "type": "boolean",
      "title": {
        "en": "At home"
      },
      "desc": {
        "en": "At home or not home"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "icon": "/assets/house.svg"
    },
    "at_work": {
      "type": "boolean",
      "title": {
        "en": "At work"
      },
      "desc": {
        "en": "At work or not at work"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "icon": "/assets/work.svg"
    },
    "heating": {
      "type": "boolean",
      "title": {
        "en": "Heating"
      },
      "desc": {
        "en": "Heating on or off"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "icon": "/assets/onoff.svg"
    },
    "home_override": {
      "type": "boolean",
      "title": {
        "en": "Home override"
      },
      "desc": {
        "en": "Will turn on heating even if at work"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "icon": "/assets/house.svg"
    },
    "night": {
      "type": "boolean",
      "title": {
        "en": "Night"
      },
      "desc": {
        "en": "Night or day"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "icon": "/assets/night.svg"
    },
    "price": {
      "type": "number",
      "title": {
        "en": "Current price/kWh"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": true,
      "decimals": 4,
      "icon": "/assets/dollar.svg"
    },
    "price_DKK": {
      "type": "number",
      "title": {
        "en": "Price DKK/kWh"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": true,
      "units": {
        "en": "DKK/kWh"
      },
      "decimals": 4,
      "icon": "/assets/dkk.svg"
    },
    "price_EUR": {
      "type": "number",
      "title": {
        "en": "Price EUR/kWh"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": true,
      "units": {
        "en": "EUR/kWh"
      },
      "decimals": 4,
      "icon": "/assets/eur.svg"
    },
    "price_NOK": {
      "type": "number",
      "title": {
        "en": "Price NOK/kWh"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": true,
      "units": {
        "en": "NOK/kWh"
      },
      "decimals": 4,
      "icon": "/assets/nok.svg"
    },
    "price_ratio": {
      "type": "number",
      "title": {
        "en": "Price ratio"
      },
      "desc": {
        "en": "Price ratio of today's prices, where 1 is the lowest price and 0 is the highest price"
      },
      "insights": true,
      "decimals": 6,
      "getable": true,
      "setable": false,
      "uiComponent": null
    },
    "price_SEK": {
      "type": "number",
      "title": {
        "en": "Price SEK/kWh"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": true,
      "units": {
        "en": "SEK/kWh"
      },
      "decimals": 4,
      "icon": "/assets/sek.svg"
    }
  }
}